<!--
 // Platform: Academy
// URL: https://academy.hackthebox.com/module/227/section/2493
// Platform Version: V1
// Module ID: 227
// Module Name: Introduction to Malware Analysis
// Module Difficulty: Hard
// Section ID: 2493
// Section Title: Windows Internals
// Page Title: Hack The Box - Academy
// Page Number: 02
-->

# Windows Internals

**Module Name:** Introduction to Malware Analysis **Page Number:** 02

#### 

#### INTRODUCTION TO MALWARE ANALYSIS

# Windows Internals

## Windows Architecture At A High Level

![https://academy.hackthebox.com/storage/modules/227/windows_architecture.png](https://academy.hackthebox.com/storage/modules/227/windows_architecture.png)

### User-mode Components

### Kernel-mode Components

## Windows API Call Flow

![https://academy.hackthebox.com/storage/modules/227/wininternals_syscall.png](https://academy.hackthebox.com/storage/modules/227/wininternals_syscall.png)

``` shell-session
BOOL ReadProcessMemory(
  [in]  HANDLE  hProcess,
  [in]  LPCVOID lpBaseAddress,
  [out] LPVOID  lpBuffer,
  [in]  SIZE_T  nSize,
  [out] SIZE_T  *lpNumberOfBytesRead
);
```

![https://academy.hackthebox.com/storage/modules/227/msdn_003_readprocessmemory.png](https://academy.hackthebox.com/storage/modules/227/msdn_003_readprocessmemory.png)

![https://academy.hackthebox.com/storage/modules/227/x64dbg_readprocessmemory.png](https://academy.hackthebox.com/storage/modules/227/x64dbg_readprocessmemory.png)

![https://academy.hackthebox.com/storage/modules/227/msdn_004_syscall_instruction.png](https://academy.hackthebox.com/storage/modules/227/msdn_004_syscall_instruction.png)

``` shell-session
[!bash!]$ xfreerdp /u:htb-student /p:'HTB_@cademy_stdnt!' /v:[Target IP] /dynamic-resolution
```

## Portable Executable

### PE Sections

![https://academy.hackthebox.com/storage/modules/227/pe_sections.png](https://academy.hackthebox.com/storage/modules/227/pe_sections.png)

## Processes

![https://academy.hackthebox.com/storage/modules/227/process_internals.png](https://academy.hackthebox.com/storage/modules/227/process_internals.png)

## Dynamic-link library (DLL)

### Import Functions

![https://academy.hackthebox.com/storage/modules/227/process_injection_fn.png](https://academy.hackthebox.com/storage/modules/227/process_injection_fn.png)

![https://academy.hackthebox.com/storage/modules/227/imports_.png](https://academy.hackthebox.com/storage/modules/227/imports_.png)

### Export Functions

![https://academy.hackthebox.com/storage/modules/227/dll_imports_exports.png](https://academy.hackthebox.com/storage/modules/227/dll_imports_exports.png)

# 

# 

#### Questions

####